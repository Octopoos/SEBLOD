/* Copyright (C) 2009 - 2016 SEBLOD. All Rights Reserved. */
if("undefined"===typeof JCck)var JCck={};
!function($){function myCheck(a,b){return $.inArray(a,b)>=0?1:0}function myModal(options){var mr={};return mr.parent=!1,mr.modal=null,mr.defaults={backdrop:!0,body:!0,callbacks:{},class:"",close:{button:!0,outside:!0},close_html:'<button type="button" class="close" data-dismiss="modal"><span>Ã—</span></button>',header:!0,keyboard:!0,loading:!0,mode:"ajax",navigation:!1,navigation_html:'<a class="cck-nav prev" href="#"><span><</span></a><a class="cck-nav next" href="#"><span>></span></a>',navigation_loop:!1,style:"standard",title:!1},mr.settings=$.extend(mr.defaults,options||{}),mr.elements=[],mr.currentIndex=0,mr.build=function(){return mr.remove(),"extended"==mr.settings.style||mr.settings.navigation?($("body").append('<div id="modal-remote-parent" class="modal-remote-parent">'+(mr.settings.navigation?'<div class="modal-navigation-parent"><div class="modal-navigation-positioning"><div class="modal-navigation-container">'+mr.settings.navigation_html+"</div></div></div>":"")+'<div class="modal-remote-positioning"><div class="modal-remote-container"><div id="modal-remote" class="modal fade '+mr.settings.class+'">'+(mr.settings.close.button?mr.settings.close_html:"")+(mr.settings.header?'<div class="modal-header">'+(mr.settings.title?"<h3>"+mr.settings.title+"</h3>":"")+"</div>":"")+'<div class="modal-content"><div class="modal-body">'+(mr.settings.loading?'<div class="loading"></div>':"")+"</div></div></div></div></div>"),mr.parent=$("#modal-remote-parent")):$("body").append('<div id="modal-remote" class="modal fade '+mr.settings.class+'">'+(mr.settings.header?'<div class="modal-header">'+(mr.settings.close.button?mr.settings.close_html:"")+(mr.settings.title?"<h3>"+mr.settings.title+"</h3>":"")+"</div>":"")+'<div class="modal-content"><div class="modal-body">'+(mr.settings.loading?'<div class="loading"></div>':"")+"</div></div></div>"),mr.modal=$("#modal-remote"),mr.modal.modal({show:!1,backdrop:mr.settings.backdrop,keyboard:mr.settings.keyboard}),mr.modal.on("show",function(a){a.stopPropagation(),mr.callbacks.show()}),mr.modal.on("shown",function(a){a.stopPropagation(),mr.callbacks.shown()}),mr.modal.on("hide",function(a){a.stopPropagation(),mr.callbacks.hide()}),mr.modal.on("hidden",function(a){a.stopPropagation(),mr.callbacks.hidden()}),mr},mr.callbacks={show:function(){mr.parent&&mr.parent.find("a.cck-nav").addClass("no-nav"),"undefined"!=typeof mr.settings.callbacks.show&&mr.settings.callbacks.show()},load:function(){mr.parent&&mr.parent.find("a.cck-nav").addClass("no-nav"),"undefined"!=typeof mr.settings.callbacks.load&&mr.settings.callbacks.load()},loaded:function(){mr.parent&&mr.elements.length>1&&(mr.settings.navigation_loop?mr.parent.find("a.cck-nav").removeClass("no-nav"):(0!=mr.currentIndex&&mr.parent.find("a.cck-nav.prev").removeClass("no-nav"),mr.currentIndex!=mr.elements.length-1&&mr.parent.find("a.cck-nav.next").removeClass("no-nav"))),"undefined"!=typeof mr.settings.callbacks.loaded&&mr.settings.callbacks.loaded()},shown:function(){var a=$(window).scrollTop();$(window).on("scroll",function(){$(document).scrollTop(a)}),mr.settings.close.outside&&$('.modal-remote-container, [class*="modal-navigation-"]').on("click",function(a){$(this).is(a.target)&&mr.hide()}),mr.settings.navigation&&mr.parent&&(mr.parent.find("a.cck-nav.prev").on("click",function(a){a.preventDefault(),mr.loadPrev()}),mr.parent.find("a.cck-nav.next").on("click",function(a){a.preventDefault(),mr.loadNext()})),mr.settings.keyboard&&$(document.documentElement).on("keyup",mr.keyboardHandler),"undefined"!=typeof mr.settings.callbacks.shown&&mr.settings.callbacks.shown()},hide:function(){"undefined"!=typeof mr.settings.callbacks.hide&&mr.settings.callbacks.hide()},hidden:function(){$(window).off("scroll"),mr.remove(),"undefined"!=typeof mr.settings.callbacks.hidden&&mr.settings.callbacks.hidden()},destroy:function(){"undefined"!=typeof mr.settings.callbacks.destroy&&mr.settings.callbacks.destroy(),mr.remove(),mr={},"undefined"!=typeof mr.settings.callbacks.destroyed&&mr.settings.callbacks.destroyed()},destroyed:function(){"undefined"!=typeof mr.settings.callbacks.destroyed&&mr.settings.callbacks.destroyed()}},mr.destroy=function(){return mr.callbacks.destroy(),this},mr.hide=function(){return mr.modal.modal("hide"),this},mr.init=function(){return mr.elements.each(function(idx){$(this).off("click"),$(this).on("click",function(event){event.preventDefault();var link=$(this),url=link.attr("href");if("undefined"!=typeof link.data("cck-modal").parent){var parent=link.data("cck-modal").parent,parent_settings=$.extend({},eval(parent).settings||{});eval(parent).settings=$.extend(eval(parent).settings,link.data("cck-modal")||{}),eval(parent).loadRemote(url),eval(parent).settings=$.extend({},parent_settings||{})}else mr.settings=$.extend(mr.settings,link.data("cck-modal")||{}),mr.loadRemote(url),mr.currentIndex=idx})}),this},mr.keyboardHandler=function(a){switch(a.preventDefault(),a.keyCode){case 27:mr.hide()}if(mr.settings.navigation)switch(a.keyCode){case 37:mr.loadPrev();break;case 39:mr.loadNext()}},mr.load=function(a){mr.callbacks.load();var b=mr.modal.find(".modal-content");switch(mr.settings.mode){case"iframe":var c='<iframe src="'+a+'" width="100%" height="100%" frameborder="0"></iframe>';mr.settings.body?b.find(".modal-body").append(c):(b.find(".modal-body").remove(),b.append(c)),mr.settings.loading&&b.find(".loading").remove(),mr.callbacks.loaded();break;default:mr.settings.body?b.find(".modal-body").load(a,mr.callbacks.loaded):b.load(a,mr.callbacks.loaded)}return this},mr.loadPrev=function(){if(0==mr.currentIndex){if(!mr.settings.navigation_loop)return this;mr.currentIndex=mr.elements.length-1}else mr.currentIndex--;return mr.load($(mr.elements[mr.currentIndex]).attr("href")),this},mr.loadNext=function(){if(mr.currentIndex==mr.elements.length-1){if(!mr.settings.navigation_loop)return this;mr.currentIndex=0}else mr.currentIndex++;return mr.load($(mr.elements[mr.currentIndex]).attr("href")),this},mr.loadRemote=function(a){mr.build().load(a).show()},mr.remove=function(){return mr.parent?$("body").find("#modal-remote-parent").remove():$("body").find("#modal-remote").remove(),mr.settings.keyboard&&$(document.documentElement).off("keyup",mr.keyboardHandler),this},mr.show=function(){return mr.modal.modal("show"),this},mr}function myOpposite(a){return 1==a?0:1}"undefined"==typeof JCck.Core&&(JCck.Core={}),JCck.Core.doTask=function(a,b,c){"undefined"==typeof c&&(c=document.getElementById("adminForm"));var d=c[a],e=b.split(".");if(d){for(var f=0;!0;f++){var g=c["cb"+f];if(!g)break;g.checked=!1}d.checked=!0,c.boxchecked.value=1,"update"==e[0]&&""!=e[1]&&(b=e[0],jQuery("#seblod_form").append('<input type="hidden" id="task2" name="task2" value="'+e[1]+'">')),Joomla.submitbutton(b)}return!1},JCck.Core.executeFunctionByName=function(a,b){for(var c=[].slice.call(arguments).splice(2),d=a.split("."),e=d.pop(),f=0;f<d.length;f++)b=b[d[f]];return b[e].apply(this,c)},JCck.Core.getModal=function(a){var b=myModal(a);return b.elements=$(this),b.init($(this)),b},JCck.Core.submitForm=function(a,b){return"undefined"==typeof b&&(b=document.getElementById("adminForm")),"undefined"!=typeof a&&""!==a&&(b.task.value=a),"function"==typeof b.onsubmit&&b.onsubmit(),"function"==typeof b.fireEvent&&b.fireEvent("onsubmit"),"function"==typeof jQuery?("search"==a&&jQuery("[data-cck-remove-before-search]","#"+b.id).removeAttr("name"),void jQuery(b).submit()):void b.submit()},$.fn.clearForm=function(){return this.each(function(){$(":input",this).each(function(){var a=this.type,b=this.tagName.toLowerCase();if("text"==a||"password"==a||"textarea"==b)this.value="";else if("checkbox"==a||"radio"==a)this.checked=!1;else if("select-multi"==a||"select-multiple"==a)this.selectedIndex=-1;else if("select"==b){for(var c=0,d=0;d<this.options.length;d++)if(""==this.options[d].value){c=1;break}c?this.value="":this.selectedIndex=0}})})},$.fn.conditionalState=function(a){var b=$(this),c=a.rule||"";if(a.conditions.length>1){var d="or"==c?1:a.conditions.length,e={};jQuery.each(a.conditions,function(c,f){var g=$("#"+f.trigger);if(f.trigger&&null!=g){var i=f.type;if("isChanged"==i)i="change";else if("isPressed"==i)i="click";else{e[g.attr("id")]=parseInt(g.myConditional(f.type,f));var j=0;jQuery.each(e,function(a,b){1==b&&j++}),h=j>=d?1:0,jQuery.each(a.states,function(a,c){b.myState(0,h,c.type,c)}),i="change"}g.on(i,function(){e[g.attr("id")]=parseInt(g.myConditional(f.type,f));var c=0;jQuery.each(e,function(a,b){1==b&&c++}),h=c>=d?1:0,jQuery.each(a.states,function(a,c){b.myState(1,h,c.type,c)})})}})}else{var f=$("#"+a.conditions[0].trigger);if(a.conditions[0].trigger&&null!=f){var g=a.conditions[0].type;if("isChanged"==g)g="change";else if("isPressed"==g)g="click";else{var h=f.myConditional(a.conditions[0].type,a.conditions[0]);jQuery.each(a.states,function(a,c){b.myState(0,h,c.type,c)}),g="change"}f.on(g,function(){var c=f.myConditional(a.conditions[0].type,a.conditions[0]);jQuery.each(a.states,function(a,d){b.myState(1,c,d.type,d)})})}}},$.fn.conditionalStateLegacy=function(a){var b=$("#"+a.conditions._0isEqual.trigger),c=$(this);if(a.conditions._0isEqual.trigger&&null!=b){var d=b.myConditional("isEqual",a.conditions._0isEqual);jQuery.each(a.states,function(a,b){c.myState(0,d,a.substr(2),b)}),b.on("change",function(){var d=b.myConditional("isEqual",a.conditions._0isEqual);jQuery.each(a.states,function(a,b){c.myState(1,d,a.substr(2),b)})})}},$.fn.conditionalStates=function(a){var b=$(this),c=a.length;if(void 0===c)a.rule?b.conditionalState(a):b.conditionalStateLegacy(a);else for(var d=0;d<c;d++)a[d].rule?b.conditionalState(a[d]):b.conditionalStateLegacy(a[d])},$.fn.deepestHeight=function(){var a=0;$(this).each(function(){a=Math.max(a,$(this).height())}).height(a)},$.fn.isStillReady=function(){return!$(this).hasClass("busy")&&($(this).addClass("busy"),!0)},$.fn.myAttr=function(a){var b=$(this);if(b.is("select"))var c=$.trim(b.find("option:selected").attr(a));else if(b.is("fieldset"))var c=$.trim(b.find("input:checked").attr(a));else var c=$.trim(b.attr(a));return c},$.fn.myConditional=function(a,b){var c=this.attr("id"),d=0;if(!$(this).length)return 0;switch(a){case"callFunction":var e=b.value;window[e]&&(d=window[e]());break;case"isChanged":case"isPressed":return 1;case"isFilled":case"isEmpty":void 0!==$(this).myVal()&&null!==$(this).myVal()&&""!=$(this).myVal()&&(d=1),"isEmpty"==a&&(d=myOpposite(d));break;case"isEqual":case"isDifferent":default:var f=b.value.split(",");if("FIELDSET"==this[0].tagName){var g="";$("#"+c+" input:checked").length>1?$("#"+c+" input:checked").each(function(){g=parseInt(myCheck($(this).val(),f)),d+=g}):(1==$("#"+c+" input:checked").length&&(g=$("#"+c+" input:checked").val()),d=myCheck(g,f))}else d=myCheck(this.val(),f);d=d>0?1:0,"isDifferent"==a&&(d=myOpposite(d))}return d},$.fn.myState=function(a,b,c,d){var e=this.attr("id")+d.selector,f=d.value,g="0"==d.revert?0:1;switch(c){case"hasClass":case"hasNotClass":"hasNotClass"==c&&(b=myOpposite(b),g=1),1==b?$("#"+e).addClass(f):g&&$("#"+e).removeClass(f);break;case"isEnabled":case"isDisabled":"isDisabled"==c&&(b=myOpposite(b),g=1),1==b?$("#"+e).prop("disabled",!1):g&&$("#"+e).prop("disabled",!0);break;case"isFilled":case"isFilledBy":case"isEmpty":"isEmpty"==c&&(b=myOpposite(b),g=1);var h=$("#"+e).attr("id"),i="";if(1==b){if("isFilledBy"==c){var j=f.split("@");f=j[1]?$("#"+j[0]).myAttr(j[1]):$("#"+f).myVal()}i=$("#"+e).is(":input")||$("#"+e).is("fieldset")?"myVal":"text",$("#"+e)[i](f),$("#_"+h).length&&(i=$("#_"+h).is(":input")?"myVal":"text",$("#_"+h)[i](f))}else g&&(i=$("#"+e).is(":input")||$("#"+e).is("fieldset")?"val":"text",$("#"+e)[i](""),$("#_"+h).length&&(i=$("#_"+h).is(":input")?"val":"text",$("#_"+h)[i]("")));break;case"isComputed":break;case"triggers":var h=$("#"+e).attr("id");$("#"+h).trigger(f);break;case"isVisible":case"isHidden":default:"isHidden"==c&&(b=myOpposite(b),g=1),0==a&&(f=""),1==b?"fade"==f?$("#"+e).fadeIn():"slide"==f?$("#"+e).slideDown():$("#"+e).show():g&&("fade"==f?$("#"+e).fadeOut():"slide"==f?$("#"+e).slideUp():$("#"+e).hide())}},$.fn.myClear=function(a){if(this[0]){var b=this[0];if("FIELDSET"==b.tagName)1==arguments.length?$("#"+this.attr("id")+" input:checked").each(function(){a==$(this).val()&&$("#"+$(this).attr("id")).prop("checked",!1)}):$("#"+this.attr("id")+" input").prop("checked",!1);else if("SELECT"==b.tagName&&this.prop("multiple"))this.val("");else if("SELECT"!=b.tagName||this.prop("multiple"))this.val("");else{for(var c=0,d=0;d<b.options.length;d++)if(""==b.options[d].value){c=1;break}c?this.val(""):b.selectedIndex=0}}},$.fn.myVal=function(a){if(1==arguments.length)var b=1;else var b=0,a="";if(!this[0])return"";var c=this[0];if("FIELDSET"!=c.tagName&&"DIV"!=c.tagName)return"SELECT"==c.tagName&&this.prop("multiple")?b?a?this.val(a.split(",")):this.val(a):this.val():b?this.val(a):this.val();var d="#"+this.attr("id"),e="";if(a)$(d+" input").val(a.split(","));else{if($(d+" input:checked").length>1)return $(d+" input:checked").each(function(){e+=","+$(this).val()}),e.substr(1);if(1==$(d+" input:checked").length)return $(d+" input:checked").val()}},$.fn.CckModal=function(a){var b=myModal(a);return b.elements=$(this),b.init($(this)),b},$(document).ready(function(){$("a[data-cck-modal]").CckModal()})}(jQuery);