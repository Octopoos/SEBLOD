/* Copyright (C) 2009 - 2016 SEBLOD. All Rights Reserved. */
if("undefined"===typeof JCck)var JCck={};
!function($){function myCheck(e,t){return $.inArray(e,t)>=0?1:0}function myModal(options){var mr={};return mr.parent=!1,mr.modal=null,mr.defaults={backdrop:!0,body:!0,callbacks:{},"class":"",close:{button:!0,outside:!0},close_html:'<button type="button" class="close" data-dismiss="modal"><span>Ã—</span></button>',header:!0,keyboard:!0,loading:!0,mode:"ajax",navigation:!1,navigation_html:'<a class="cck-nav prev" href="#"><span><</span></a><a class="cck-nav next" href="#"><span>></span></a>',navigation_loop:!1,style:"standard",title:!1},mr.settings=$.extend(mr.defaults,options||{}),mr.elements=[],mr.currentIndex=0,mr.build=function(){return mr.remove(),"extended"==mr.settings.style||mr.settings.navigation?($("body").append('<div id="modal-remote-parent" class="modal-remote-parent">'+(mr.settings.navigation?'<div class="modal-navigation-parent"><div class="modal-navigation-positioning"><div class="modal-navigation-container">'+mr.settings.navigation_html+"</div></div></div>":"")+'<div class="modal-remote-positioning"><div class="modal-remote-container"><div id="modal-remote" class="modal fade '+mr.settings["class"]+'">'+(mr.settings.close.button?mr.settings.close_html:"")+(mr.settings.header?'<div class="modal-header">'+(mr.settings.title?"<h3>"+mr.settings.title+"</h3>":"")+"</div>":"")+'<div class="modal-content"><div class="modal-body">'+(mr.settings.loading?'<div class="loading"></div>':"")+"</div></div></div></div></div>"),mr.parent=$("#modal-remote-parent")):$("body").append('<div id="modal-remote" class="modal fade '+mr.settings["class"]+'">'+(mr.settings.header?'<div class="modal-header">'+(mr.settings.close.button?mr.settings.close_html:"")+(mr.settings.title?"<h3>"+mr.settings.title+"</h3>":"")+"</div>":"")+'<div class="modal-content"><div class="modal-body">'+(mr.settings.loading?'<div class="loading"></div>':"")+"</div></div></div>"),mr.modal=$("#modal-remote"),mr.modal.modal({show:!1,backdrop:mr.settings.backdrop,keyboard:mr.settings.keyboard}),mr.modal.on("show",function(e){e.stopPropagation(),mr.callbacks.show()}),mr.modal.on("shown",function(e){e.stopPropagation(),mr.callbacks.shown()}),mr.modal.on("hide",function(e){e.stopPropagation(),mr.callbacks.hide()}),mr.modal.on("hidden",function(e){e.stopPropagation(),mr.callbacks.hidden()}),mr},mr.callbacks={show:function(){mr.parent&&mr.parent.find("a.cck-nav").addClass("no-nav"),"undefined"!=typeof mr.settings.callbacks.show&&mr.settings.callbacks.show()},load:function(){mr.parent&&mr.parent.find("a.cck-nav").addClass("no-nav"),"undefined"!=typeof mr.settings.callbacks.load&&mr.settings.callbacks.load()},loaded:function(){mr.parent&&mr.elements.length>1&&(mr.settings.navigation_loop?mr.parent.find("a.cck-nav").removeClass("no-nav"):(0!=mr.currentIndex&&mr.parent.find("a.cck-nav.prev").removeClass("no-nav"),mr.currentIndex!=mr.elements.length-1&&mr.parent.find("a.cck-nav.next").removeClass("no-nav"))),"undefined"!=typeof mr.settings.callbacks.loaded&&mr.settings.callbacks.loaded()},shown:function(){var e=$(window).scrollTop();$(window).on("scroll",function(){$(document).scrollTop(e)}),mr.settings.close.outside&&$('.modal-remote-container, [class*="modal-navigation-"]').on("click",function(e){$(this).is(e.target)&&mr.hide()}),mr.settings.navigation&&mr.parent&&(mr.parent.find("a.cck-nav.prev").on("click",function(e){e.preventDefault(),mr.loadPrev()}),mr.parent.find("a.cck-nav.next").on("click",function(e){e.preventDefault(),mr.loadNext()})),mr.settings.keyboard&&$(document.documentElement).on("keyup",mr.keyboardHandler),"undefined"!=typeof mr.settings.callbacks.shown&&mr.settings.callbacks.shown()},hide:function(){"undefined"!=typeof mr.settings.callbacks.hide&&mr.settings.callbacks.hide()},hidden:function(){$(window).off("scroll"),mr.remove(),"undefined"!=typeof mr.settings.callbacks.hidden&&mr.settings.callbacks.hidden()},destroy:function(){"undefined"!=typeof mr.settings.callbacks.destroy&&mr.settings.callbacks.destroy(),mr.remove(),mr={},"undefined"!=typeof mr.settings.callbacks.destroyed&&mr.settings.callbacks.destroyed()},destroyed:function(){"undefined"!=typeof mr.settings.callbacks.destroyed&&mr.settings.callbacks.destroyed()}},mr.destroy=function(){return mr.callbacks.destroy(),this},mr.hide=function(){return mr.modal.modal("hide"),this},mr.init=function(){return mr.elements.each(function(idx){$(this).off("click"),$(this).on("click",function(event){event.preventDefault();var link=$(this),url=link.attr("href");if("undefined"!=typeof link.data("cck-modal").parent){var parent=link.data("cck-modal").parent,parent_settings=$.extend({},eval(parent).settings||{});eval(parent).settings=$.extend(eval(parent).settings,link.data("cck-modal")||{}),eval(parent).loadRemote(url),eval(parent).settings=$.extend({},parent_settings||{})}else mr.settings=$.extend(mr.settings,link.data("cck-modal")||{}),mr.loadRemote(url),mr.currentIndex=idx})}),this},mr.keyboardHandler=function(e){switch(e.preventDefault(),e.keyCode){case 27:mr.hide()}if(mr.settings.navigation)switch(e.keyCode){case 37:mr.loadPrev();break;case 39:mr.loadNext()}},mr.load=function(e){mr.callbacks.load();var t=mr.modal.find(".modal-content");switch(mr.settings.mode){case"iframe":var n='<iframe src="'+e+'" width="100%" height="100%" frameborder="0"></iframe>';mr.settings.body?t.find(".modal-body").append(n):(t.find(".modal-body").remove(),t.append(n)),mr.settings.loading&&t.find(".loading").remove(),mr.callbacks.loaded();break;default:mr.settings.body?t.find(".modal-body").load(e,mr.callbacks.loaded):t.load(e,mr.callbacks.loaded)}return this},mr.loadPrev=function(){if(0==mr.currentIndex){if(!mr.settings.navigation_loop)return this;mr.currentIndex=mr.elements.length-1}else mr.currentIndex--;return mr.load($(mr.elements[mr.currentIndex]).attr("href")),this},mr.loadNext=function(){if(mr.currentIndex==mr.elements.length-1){if(!mr.settings.navigation_loop)return this;mr.currentIndex=0}else mr.currentIndex++;return mr.load($(mr.elements[mr.currentIndex]).attr("href")),this},mr.loadRemote=function(e){mr.build().load(e).show()},mr.remove=function(){return mr.parent?$("body").find("#modal-remote-parent").remove():$("body").find("#modal-remote").remove(),mr.settings.keyboard&&$(document.documentElement).off("keyup",mr.keyboardHandler),this},mr.show=function(){return mr.modal.modal("show"),this},mr}function myOpposite(e){return 1==e?0:1}"undefined"==typeof JCck.Core&&(JCck.Core={}),JCck.Core.doTask=function(e,t,n){"undefined"==typeof n&&(n=document.getElementById("adminForm"));var i=n[e],a=t.split(".");if(i){for(var s=0;!0;s++){var r=n["cb"+s];if(!r)break;r.checked=!1}i.checked=!0,n.boxchecked.value=1,"update"==a[0]&&""!=a[1]&&(t=a[0],jQuery("#seblod_form").append('<input type="hidden" id="task2" name="task2" value="'+a[1]+'">')),Joomla.submitbutton(t)}return!1},JCck.Core.executeFunctionByName=function(e,t){for(var n=[].slice.call(arguments).splice(2),i=e.split("."),a=i.pop(),s=0;s<i.length;s++)t=t[i[s]];return t[a].apply(this,n)},JCck.Core.getModal=function(e){var t=myModal(e);return t.elements=$(this),t.init($(this)),t},JCck.Core.submitForm=function(e,t){"undefined"==typeof t&&(t=document.getElementById("adminForm")),"undefined"!=typeof e&&""!==e&&(t.task.value=e),"function"==typeof t.onsubmit&&t.onsubmit(),"function"==typeof t.fireEvent&&t.fireEvent("onsubmit"),"function"==typeof jQuery&&jQuery(t).submit(),t.submit()},$.fn.clearForm=function(){return this.each(function(){$(":input",this).each(function(){var e=this.type,t=this.tagName.toLowerCase();if("text"==e||"password"==e||"textarea"==t)this.value="";else if("checkbox"==e||"radio"==e)this.checked=!1;else if("select-multi"==e||"select-multiple"==e)this.selectedIndex=-1;else if("select"==t){for(var n=0,i=0;i<this.options.length;i++)if(""==this.options[i].value){n=1;break}n?this.value="":this.selectedIndex=0}})})},$.fn.conditionalState=function(e){var t=$(this),n=e.rule||"";if(e.conditions.length>1){var i="or"==n?1:e.conditions.length,a={};jQuery.each(e.conditions,function(n,s){var r=$("#"+s.trigger);if(s.trigger&&null!=r){var l=s.type;if("isChanged"==l)l="change";else if("isPressed"==l)l="click";else{a[r.attr("id")]=parseInt(r.myConditional(s.type,s));var d=0;jQuery.each(a,function(e,t){1==t&&d++}),o=d>=i?1:0,jQuery.each(e.states,function(e,n){t.myState(0,o,n.type,n)}),l="change"}r.on(l,function(){a[r.attr("id")]=parseInt(r.myConditional(s.type,s));var n=0;jQuery.each(a,function(e,t){1==t&&n++}),o=n>=i?1:0,jQuery.each(e.states,function(e,n){t.myState(1,o,n.type,n)})})}})}else{var s=$("#"+e.conditions[0].trigger);if(e.conditions[0].trigger&&null!=s){var r=e.conditions[0].type;if("isChanged"==r)r="change";else if("isPressed"==r)r="click";else{var o=s.myConditional(e.conditions[0].type,e.conditions[0]);jQuery.each(e.states,function(e,n){t.myState(0,o,n.type,n)}),r="change"}s.on(r,function(){var n=s.myConditional(e.conditions[0].type,e.conditions[0]);jQuery.each(e.states,function(e,i){t.myState(1,n,i.type,i)})})}}},$.fn.conditionalStateLegacy=function(e){var t=$("#"+e.conditions._0isEqual.trigger),n=$(this);if(e.conditions._0isEqual.trigger&&null!=t){var i=t.myConditional("isEqual",e.conditions._0isEqual);jQuery.each(e.states,function(e,t){n.myState(0,i,e.substr(2),t)}),t.on("change",function(){var i=t.myConditional("isEqual",e.conditions._0isEqual);jQuery.each(e.states,function(e,t){n.myState(1,i,e.substr(2),t)})})}},$.fn.conditionalStates=function(e){var t=$(this),n=e.length;if(void 0===n)e.rule?t.conditionalState(e):t.conditionalStateLegacy(e);else for(var i=0;n>i;i++)e[i].rule?t.conditionalState(e[i]):t.conditionalStateLegacy(e[i])},$.fn.deepestHeight=function(){var e=0;$(this).each(function(){e=Math.max(e,$(this).height())}).height(e)},$.fn.isStillReady=function(){return $(this).hasClass("busy")?!1:($(this).addClass("busy"),!0)},$.fn.myAttr=function(e){var t=$(this);if(t.is("select"))var n=$.trim(t.find("option:selected").attr(e));else if(t.is("fieldset"))var n=$.trim(t.find("input:checked").attr(e));else var n=$.trim(t.attr(e));return n},$.fn.myConditional=function(e,t){var n=this.attr("id"),i=0;if(!$(this).length)return 0;switch(e){case"callFunction":var a=t.value;window[a]&&(i=window[a]());break;case"isChanged":case"isPressed":return 1;case"isFilled":case"isEmpty":void 0!==$(this).myVal()&&null!==$(this).myVal()&&""!=$(this).myVal()&&(i=1),"isEmpty"==e&&(i=myOpposite(i));break;case"isEqual":case"isDifferent":default:var s=t.value.split(",");if("FIELDSET"==this[0].tagName){var r="";$("#"+n+" input:checked").length>1?$("#"+n+" input:checked").each(function(){r=parseInt(myCheck($(this).val(),s)),i+=r}):(1==$("#"+n+" input:checked").length&&(r=$("#"+n+" input:checked").val()),i=myCheck(r,s))}else i=myCheck(this.val(),s);i=i>0?1:0,"isDifferent"==e&&(i=myOpposite(i))}return i},$.fn.myState=function(e,t,n,i){var a=this.attr("id")+i.selector,s=i.value,r="0"==i.revert?0:1;switch(n){case"hasClass":case"hasNotClass":"hasNotClass"==n&&(t=myOpposite(t),r=1),1==t?$("#"+a).addClass(s):r&&$("#"+a).removeClass(s);break;case"isEnabled":case"isDisabled":"isDisabled"==n&&(t=myOpposite(t),r=1),1==t?$("#"+a).prop("disabled",!1):r&&$("#"+a).prop("disabled",!0);break;case"isFilled":case"isFilledBy":case"isEmpty":"isEmpty"==n&&(t=myOpposite(t),r=1);var o=$("#"+a).attr("id"),l="";if(1==t){if("isFilledBy"==n){var d=s.split("@");s=d[1]?$("#"+d[0]).myAttr(d[1]):$("#"+s).myVal()}l=$("#"+a).is(":input")||$("#"+a).is("fieldset")?"myVal":"text",$("#"+a)[l](s),$("#_"+o).length&&(l=$("#_"+o).is(":input")?"myVal":"text",$("#_"+o)[l](s))}else r&&(l=$("#"+a).is(":input")||$("#"+a).is("fieldset")?"val":"text",$("#"+a)[l](""),$("#_"+o).length&&(l=$("#_"+o).is(":input")?"val":"text",$("#_"+o)[l]("")));break;case"isComputed":break;case"triggers":var o=$("#"+a).attr("id");$("#"+o).trigger(s);break;case"isVisible":case"isHidden":default:"isHidden"==n&&(t=myOpposite(t),r=1),0==e&&(s=""),1==t?"fade"==s?$("#"+a).fadeIn():"slide"==s?$("#"+a).slideDown():$("#"+a).show():r&&("fade"==s?$("#"+a).fadeOut():"slide"==s?$("#"+a).slideUp():$("#"+a).hide())}},$.fn.myClear=function(e){if(this[0]){var t=this[0];if("FIELDSET"==t.tagName)1==arguments.length?$("#"+this.attr("id")+" input:checked").each(function(){e==$(this).val()&&$("#"+$(this).attr("id")).prop("checked",!1)}):$("#"+this.attr("id")+" input").prop("checked",!1);else if("SELECT"==t.tagName&&this.prop("multiple"))this.val("");else if("SELECT"!=t.tagName||this.prop("multiple"))this.val("");else{for(var n=0,i=0;i<t.options.length;i++)if(""==t.options[i].value){n=1;break}n?this.val(""):t.selectedIndex=0}}},$.fn.myVal=function(e){if(1==arguments.length)var t=1;else var t=0,e="";if(!this[0])return"";var n=this[0];if("FIELDSET"!=n.tagName&&"DIV"!=n.tagName)return"SELECT"==n.tagName&&this.prop("multiple")?t?e?this.val(e.split(",")):this.val(e):this.val():t?this.val(e):this.val();var i="#"+this.attr("id"),a="";if(e)$(i+" input").val(e.split(","));else{if($(i+" input:checked").length>1)return $(i+" input:checked").each(function(){a+=","+$(this).val()}),a.substr(1);if(1==$(i+" input:checked").length)return $(i+" input:checked").val()}},$.fn.CckModal=function(e){var t=myModal(e);return t.elements=$(this),t.init($(this)),t},$(document).ready(function(){$("a[data-cck-modal]").CckModal()})}(jQuery);