/*
 * Inline Form Validation Engine 2.6.2, jQuery plugin * Copyright(c) 2010, Cedric Dugas * http://www.position-absolute.com * 2.0 Rewrite by Olivier Refalo * http://www.crionics.com * Form validation engine allowing custom regex rules to be added. * Licensed under the MIT License
 * Modified for SEBLOD (App Builder & CCK) // SEBLOD nano (Form Builder).
 */
 (function($){$.fn.validationEngineLanguage = function(){};$.validationEngineLanguage = {newLang: function(moreRules){allRules = {};$.validationEngineLanguage.allRules = $.extend(allRules, moreRules);}};})(jQuery);
 !function(e){"use strict";var t={init:function(a){var i=this;return i.data("jqv")&&null!=i.data("jqv")||(a=t._saveOptions(i,a),e(".formError").live("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})})),this},attach:function(a){var i,r=this;return i=a?t._saveOptions(r,a):r.data("jqv"),i.validateAttribute=r.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",i.binded&&(r.on(i.validationEventTrigger,"["+i.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",t._onFieldEvent),r.on("click","["+i.validateAttribute+"*=validate][type=checkbox],["+i.validateAttribute+"*=validate][type=radio]",t._onFieldEvent),r.on(i.validationEventTrigger,"["+i.validateAttribute+"*=validate][class*=datepicker]",{delay:300},t._onFieldEvent)),i.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:r},t.updatePromptsPosition),r.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",t._submitButtonClick),r.removeData("jqv_submitButton"),r.on("submit",t._onSubmitEvent),this},detach:function(){var a=this,i=a.data("jqv");return a.find("["+i.validateAttribute+"*=validate]").not("[type=checkbox]").off(i.validationEventTrigger,t._onFieldEvent),a.find("["+i.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",t._onFieldEvent),a.off("submit",t.onAjaxFormComplete),a.die("submit",t.onAjaxFormComplete),a.removeData("jqv"),a.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",t._submitButtonClick),a.removeData("jqv_submitButton"),i.autoPositionUpdate&&e(window).unbind("resize",t.updatePromptsPosition),this},validate:function(a){var a=a||"form.save",i=e(this),r=null;if(!i.is("form")&&!i.hasClass("validationEngineContainer")||i.hasClass("validating"))if(i.is("form")||i.hasClass("validationEngineContainer")){var o=i.data("jqv");i.removeClass("validating")}else{var n=i.closest("form, .validationEngineContainer"),o=n.data("jqv")?n.data("jqv"):e.validationEngine.defaults,r=t._validateField(i,o);r&&o.onFieldSuccess?o.onFieldSuccess():o.onFieldFailure&&o.InvalidFields.length>0&&o.onFieldFailure()}else{i.addClass("validating");var o=i.data("jqv"),r=t._validateFields(this);setTimeout(function(){i.removeClass("validating")},100),r&&o.onSuccess?o.onSuccess():!r&&o.onFailure&&o.onFailure()}return o.onValidationComplete?!!o.onValidationComplete(n,r):(o.eventTrigger="submit",o.submitTask=a,r)},updatePromptsPosition:function(a){if(a&&this==window)var i=a.data.formElem,r=a.data.noAnimation;else var i=e(this.closest("form, .validationEngineContainer"));var o=i.data("jqv");return i.find("["+o.validateAttribute+"*=validate]").not(":disabled").each(function(){var a=e(this);o.prettySelect&&a.is(":hidden")&&(a=i.find("#"+o.usePrefix+a.attr("id")+o.useSuffix));var n=t._getPrompt(a),l=e(n).find(".formErrorContent").html();n&&t._updatePrompt(a,e(n),l,void 0,!1,o,r)}),this},showPrompt:function(e,a,i,r){var o=this.closest("form, .validationEngineContainer"),n=o.data("jqv");return n||(n=t._saveOptions(this,n)),i&&(n.promptPosition=i),n.showArrow=1==r,t._showPrompt(this,e,a,!1,n),this},hide:function(){var a,i=e(this).closest("form, .validationEngineContainer"),r=i.data("jqv"),o=r&&r.fadeDuration?r.fadeDuration:.3;return a=e(this).is("form")||e(this).hasClass("validationEngineContainer")?"parentForm"+t._getClassName(e(this).attr("id")):t._getClassName(e(this).attr("id"))+"formError",e("."+a).fadeTo(o,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){var t=this,a=t.data("jqv"),i=a?a.fadeDuration:300;return e(".formError").fadeTo(i,300,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(a){var i=e(this),r=i.closest("form, .validationEngineContainer"),o=r.data("jqv");o.eventTrigger="field",window.setTimeout(function(){t._validateField(i,o),0==o.InvalidFields.length&&o.onFieldSuccess?o.onFieldSuccess():o.InvalidFields.length>0&&o.onFieldFailure&&o.onFieldFailure()},a.data?a.data.delay:0)},_onSubmitEvent:function(){var a=e(this),i=a.data("jqv");if(a.data("jqv_submitButton")){var r=e("#"+a.data("jqv_submitButton"));if(r&&r.length>0&&(r.hasClass("validate-skip")||"true"==r.attr("data-validation-engine-skip")))return!0}i.eventTrigger="submit";var o=t._validateFields(a);return o&&i.ajaxFormValidation?(t._validateFormWithAjax(a,i),!1):i.onValidationComplete?!!i.onValidationComplete(a,o):o},_checkAjaxStatus:function(t){var a=!0;return e.each(t.ajaxValidCache,function(e,t){return t?void 0:(a=!1,!1)}),a},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(a){var i=a.data("jqv"),r=!1;a.trigger("jqv.form.validating");var o=null;if(a.find("["+i.validateAttribute+"*=validate]").not(":disabled").each(function(){var n=e(this),l=[];if(e.inArray(n.attr("name"),l)<0){if(r|=t._validateField(n,i),r&&null==o&&(o=n.is(":hidden")&&i.prettySelect?n=a.find("#"+i.usePrefix+t._jqSelector(n.attr("id"))+i.useSuffix):n),i.doNotShowAllErrosOnSubmit)return!1;if(l.push(n.attr("name")),1==i.showOneMessage&&r)return!1}}),a.trigger("jqv.form.result",[r]),r){if(i.scroll){var n=o.offset().top,l=o.offset().left,s=i.promptPosition;if("string"==typeof s&&-1!=s.indexOf(":")&&(s=s.substring(0,s.indexOf(":"))),"bottomRight"!=s&&"bottomLeft"!=s){var d=t._getPrompt(o);d&&(n=d.offset().top)}if(i.scrollOffset&&(n-=i.scrollOffset),i.isOverflown){var u=e(i.overflownDIV);if(!u.length)return!1;var c=u.scrollTop(),f=-parseInt(u.offset().top);n+=c+f-5;var v=e(i.overflownDIV+":not(:animated)");v.animate({scrollTop:n},1100,function(){i.focusFirstField&&o.focus()})}else e("html, body").animate({scrollTop:n},1100,function(){i.focusFirstField&&o.focus()}),e("html, body").animate({scrollLeft:l},1100)}else i.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(a,i){var r=a.serialize(),o=i.ajaxFormValidationMethod?i.ajaxFormValidationMethod:"GET",n=i.ajaxFormValidationURL?i.ajaxFormValidationURL:a.attr("action"),l=i.dataType?i.dataType:"json";e.ajax({type:o,url:n,cache:!1,dataType:l,data:r,form:a,methods:t,options:i,beforeSend:function(){return i.onBeforeAjaxFormValidation(a,i)},error:function(e,a){t._ajaxError(e,a)},success:function(r){if("json"==l&&r!==!0){for(var o=!1,n=0;n<r.length;n++){var s=r[n],d=s[0],u=e(e("#"+d)[0]);if(1==u.length){var c=s[2];if(1==s[1])if(""!=c&&c){if(i.allrules[c]){var f=i.allrules[c].alertTextOk;f&&(c=f)}i.showPrompts&&t._showPrompt(u,c,"pass",!1,i,!0)}else t._closePrompt(u);else{if(o|=!0,i.allrules[c]){var f=i.allrules[c].alertText;f&&(c=f)}i.showPrompts&&t._showPrompt(u,c,"",!1,i,!0)}}}i.onAjaxFormComplete(!o,a,r,i)}else i.onAjaxFormComplete(!0,a,r,i)}})},_checkFieldDisplayStatus:function(t){var a=t.closest(".cck-tab-pane"),i=a.index();if(a.is(":hidden")){var r=t.parents().filter(function(){return"none"==e(this).css("display")}).first();if(a.attr("id")==r.attr("id")){var o={};return o.tab=a,o.pos=i,o}}return!1},_validateField:function(a,i,r){a.attr("id")||(a.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter);var o=!1;if(a.is(":hidden"))if(o=t._checkFieldDisplayStatus(a));else if(!i.validateNonVisibleFields&&!i.prettySelect||a.parent().is(":hidden"))return;var n=a.attr(i.validateAttribute),l=/validate\[(.*)\]/.exec(n);if(!l)return!1;var s=l[1],d=s.split(/\[|,|\]/),u=!1,c=a.attr("name"),f="",v="",p=!1,m=!1;i.isError=!1,i.showArrow=!0,i.maxErrorsPerField>0&&(m=!0);for(var h=e(a.closest("form, .validationEngineContainer")),g=0;g<d.length;g++)d[g]=d[g].replace(" ",""),""===d[g]&&delete d[g];for(var g=0,x=0;g<d.length;g++){if(m&&x>=i.maxErrorsPerField){if(!p){var b=e.inArray("required",d);p=-1!=b&&b>=g}break}var _=void 0;switch(d[g]){case"required":p=!0,_=t._required(a,d,g,i);break;case"require":p=!0,_=t._require(a,d,g,i);break;case"custom":_=t._custom(a,d,g,i);break;case"groupRequired":var C="["+i.validateAttribute+"*="+d[g+1]+"]",T=h.find(C).eq(0);T[0]!=a[0]&&(t._validateField(T,i,r),i.showArrow=!0),_=t._groupRequired(a,d,g,i),_&&(p=!0),i.showArrow=!1;break;case"groupRequire":var C="["+i.validateAttribute+"*="+d[g+1]+"]",T=h.find(C).eq(0);T[0]!=a[0]&&(t._validateField(T,i,r),i.showArrow=!0),_=t._groupRequire(a,d,g,i),_&&(p=!0),i.showArrow=!1;break;case"ajax":_=t._ajax(a,d,g,i),_&&(v="load");break;case"minSize":_=t._minSize(a,d,g,i);break;case"maxSize":_=t._maxSize(a,d,g,i);break;case"min":_=t._min(a,d,g,i);break;case"max":_=t._max(a,d,g,i);break;case"past":_=t._past(h,a,d,g,i);break;case"future":_=t._future(h,a,d,g,i);break;case"dateRange":var C="["+i.validateAttribute+"*="+d[g+1]+"]";i.firstOfGroup=h.find(C).eq(0),i.secondOfGroup=h.find(C).eq(1),(i.firstOfGroup[0].value||i.secondOfGroup[0].value)&&(_=t._dateRange(a,d,g,i)),_&&(p=!0),i.showArrow=!1;break;case"dateTimeRange":var C="["+i.validateAttribute+"*="+d[g+1]+"]";i.firstOfGroup=h.find(C).eq(0),i.secondOfGroup=h.find(C).eq(1),(i.firstOfGroup[0].value||i.secondOfGroup[0].value)&&(_=t._dateTimeRange(a,d,g,i)),_&&(p=!0),i.showArrow=!1;break;case"maxCheckbox":a=e(h.find("input[name='"+c+"']")),_=t._maxCheckbox(h,a,d,g,i);break;case"minCheckbox":a=e(h.find("input[name='"+c+"']")),_=t._minCheckbox(h,a,d,g,i);break;case"confirmed":_=t._confirmed(a,d,g,i);break;case"confirm":_=t._confirm(a,d,g,i);break;case"funcCall":_=t._funcCall(a,d,g,i);break;case"maxTag":p=!0,_=t._maxTag(a,d,g,i);break;case"minTag":p=!0,_=t._minTag(a,d,g,i);break;case"condRequired":_=t._condRequired(a,d[g],d,g,i),void 0!==_&&(p=!0)}var k=!1;if("object"==typeof _)switch(_.status){case"_break":k=!0;break;case"_error":_=_.message;break;case"_error_no_prompt":return!0}if(k)break;"string"==typeof _&&(f+=_+"<br/>",i.isError=!0,x++,o!==!1&&o.tab.length&&(!p&&!a.val()&&a.val().length<1||o.tab.parent().prev(".cck-tabs").children().eq(o.pos).addClass("cck-tab-required")))}!p&&!a.val()&&a.val().length<1&&(i.isError=!1);var F=a.prop("type"),w=a.data("promptPosition")||i.promptPosition;("radio"==F||"checkbox"==F)&&h.find("input[name='"+c+"']").size()>1&&(a=e("inline"===w?h.find("input[name='"+c+"'][type!=hidden]:last"):h.find("input[name='"+c+"'][type!=hidden]:first")),i.showArrow=!1),a.is(":hidden")&&i.prettySelect&&(a=h.find("#"+i.usePrefix+t._jqSelector(a.attr("id"))+i.useSuffix)),i.isError&&i.showPrompts?t._showPrompt(a,f,v,!1,i):u||t._closePrompt(a),u||a.trigger("jqv.field.result",[a,i.isError,f]);var E=e.inArray(a[0],i.InvalidFields);return-1==E?i.isError&&i.InvalidFields.push(a[0]):i.isError||i.InvalidFields.splice(E,1),t._handleStatusCssClasses(a,i),i.isError&&i.onFieldFailure&&i.onFieldFailure(a),!i.isError&&i.onFieldSuccess&&i.onFieldSuccess(a),i.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_required:function(t,a,i,r,o){switch(t.attr("type")){case"text":case"password":case"textarea":default:var n=e.trim(t.val()),l=e.trim(t.attr("data-validation-placeholder")),s=e.trim(t.attr("placeholder"));if(!n||l&&n==l||s&&n==s)return r.allrules[a[i]].alertText;break;case"file":var d=t.attr("id"),u=e("#"+d+"_hidden").val();if((!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder"))&&"/"==u[u.length-1])return r.allrules[a[i]].alertText;break;case"radio":case"checkbox":if(o){if(!t.attr("checked"))return r.allrules[a[i]].alertTextCheckboxMultiple;break}var c=t.closest("form, .validationEngineContainer"),f=t.attr("name");if(0==c.find("input[name='"+f+"']:checked").size())return 1==c.find("input[name='"+f+"']:visible").size()?r.allrules[a[i]].alertTextCheckboxe:r.allrules[a[i]].alertTextCheckboxMultiple;break;case"select-one":if(!t.val())return r.allrules[a[i]].alertText;break;case"select-multiple":if(!t.find("option:selected").val())return r.allrules[a[i]].alertText}},_require:function(t,a,i,r){var o=a[i+1];switch(t.attr("type")){case"text":case"password":case"textarea":default:var n=e.trim(t.val()),l=e.trim(t.attr("data-validation-placeholder")),s=e.trim(t.attr("placeholder"));if(!n||l&&n==l||s&&n==s)return r.allrules[o].alertText;break;case"file":var d=t.attr("id"),u=e("#"+d+"_hidden").val();if((!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder"))&&"/"==u[u.length-1])return r.allrules[o].alertText;break;case"radio":case"checkbox":var c=t.closest("form, .validationEngineContainer"),f=t.attr("name");if(0==c.find("input[name='"+f+"']:checked").size())return r.allrules[o].alertText;break;case"select-one":if(!t.val())return r.allrules[o].alertText;break;case"select-multiple":if(!t.find("option:selected").val())return r.allrules[o].alertText}},_groupRequired:function(a,i,r,o){var n="["+o.validateAttribute+"*="+i[r+1]+"]",l=!1;return a.closest("form, .validationEngineContainer").find(n).each(function(){return t._required(e(this),i,r,o)?void 0:(l=!0,!1)}),l?void 0:o.allrules[i[r]].alertText},_groupRequire:function(a,i,r,o){var n="["+o.validateAttribute+"*="+i[r+1]+"]",l=!1;return a.closest("form, .validationEngineContainer").find(n).each(function(){return t._require(e(this),i,r,o)?void 0:(l=!0,!1)}),l?void 0:o.allrules[i[r+1]].alertText},_custom:function(e,t,a,i){var r,o=t[a+1],n=i.allrules[o];if(!n)return void alert("jqv:custom rule not found - "+o);if(n.regex){var l=n.regex;if(!l)return void alert("jqv:custom regex not found - "+o);var s=new RegExp(l);if(!s.test(e.val()))return i.allrules[o].alertText}else{if(!n.func)return void alert("jqv:custom type not allowed "+o);if(r=n.func,"function"!=typeof r)return void alert("jqv:custom parameter 'function' is no function - "+o);if(!r(e,t,a,i))return i.allrules[o].alertText}},_funcCall:function(e,t,a,i){var r,o=t[a+1];if(o.indexOf(".")>-1){for(var n=o.split("."),l=window;n.length;)l=l[n.shift()];r=l}else r=window[o]||i.customFunctions[o];return"function"==typeof r?r(e,t,a,i):void 0},_confirmed:function(t,a,i,r){var o=a[i+1];return t.val()!=e("#"+o).val()?r.allrules.confirmed.alertText:void 0},_confirm:function(t,a,i,r){var o=a[i+1],n=r.allrules[o],l=n.regex;return t.val()!=e("#"+l).val()?r.allrules[o].alertText:void 0},_maxSize:function(e,t,a,i){var r=t[a+1],o=e.val().length;if(o>r){var n=i.allrules.maxSize;return n.alertText+r+n.alertText2}},_minSize:function(e,t,a,i){var r=t[a+1],o=e.val().length;if(r>o){var n=i.allrules.minSize;return n.alertText+r+n.alertText2}},_min:function(e,t,a,i){var r=parseFloat(t[a+1]),o=parseFloat(e.val());if(r>o){var n=i.allrules.min;return n.alertText2?n.alertText+r+n.alertText2:n.alertText+r}},_max:function(e,t,a,i){var r=parseFloat(t[a+1]),o=parseFloat(e.val());if(o>r){var n=i.allrules.max;return n.alertText2?n.alertText+r+n.alertText2:n.alertText+r}},_past:function(a,i,r,o,n){var l,s=r[o+1],d=e(a.find("input[name='"+s.replace(/^#+/,"")+"']"));if("now"==s.toLowerCase())l=new Date;else if(void 0!=d.val()){if(d.is(":disabled"))return;l=t._parseDate(d.val())}else l=t._parseDate(s);var u=t._parseDate(i.val());if(u>l){var c=n.allrules.past;return c.alertText2?c.alertText+t._dateToString(l)+c.alertText2:c.alertText+t._dateToString(l)}},_future:function(a,i,r,o,n){var l,s=r[o+1],d=e(a.find("input[name='"+s.replace(/^#+/,"")+"']"));if("now"==s.toLowerCase())l=new Date;else if(void 0!=d.val()){if(d.is(":disabled"))return;l=t._parseDate(d.val())}else l=t._parseDate(s);var u=t._parseDate(i.val());if(l>u){var c=n.allrules.future;return c.alertText2?c.alertText+t._dateToString(l)+c.alertText2:c.alertText+t._dateToString(l)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,a,i,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[a[i]].alertText+r.allrules[a[i]].alertText2:t._isDate(r.firstOfGroup[0].value)&&t._isDate(r.secondOfGroup[0].value)&&t._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[a[i]].alertText+r.allrules[a[i]].alertText2},_dateTimeRange:function(e,a,i,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[a[i]].alertText+r.allrules[a[i]].alertText2:t._isDateTime(r.firstOfGroup[0].value)&&t._isDateTime(r.secondOfGroup[0].value)&&t._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[a[i]].alertText+r.allrules[a[i]].alertText2},_maxCheckbox:function(e,t,a,i,r){var o=a[i+1],n=t.attr("name"),l=e.find("input[name='"+n+"']:checked").size();return l>o?(r.showArrow=!1,r.allrules.maxCheckbox.alertText2?r.allrules.maxCheckbox.alertText+" "+o+" "+r.allrules.maxCheckbox.alertText2:r.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,a,i,r){var o=a[i+1],n=t.attr("name"),l=e.find("input[name='"+n+"']:checked").size();return o>l?(r.showArrow=!1,r.allrules.minCheckbox.alertText+" "+o+" "+r.allrules.minCheckbox.alertText2):void 0},_maxTag:function(t,a,i,r){var o=t.attr("id"),n=a[i+1],l=e("#"+o).textext()[0].tags().tagElements().length;return l>n?r.allrules.maxTag.alertText+" "+n+" "+r.allrules.maxTag.alertText2:void 0},_minTag:function(t,a,i,r){var o=t.attr("id"),n=a[i+1],l=e("#"+o).textext()[0].tags().tagElements().length;return n>l?r.allrules.minTag.alertText+" "+n+" "+r.allrules.minTag.alertText2:void 0},_ajax:function(a,i,r,o){var n=i[r+1],l=o.allrules[n],s=l.extraData,d=l.extraDataDynamic,u={fieldId:a.attr("id"),fieldValue:a.val().replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/'/g,"%27")};if("object"==typeof s)e.extend(u,s);else if("string"==typeof s)for(var c=s.split("&"),r=0;r<c.length;r++){var f=c[r].split("=");f[0]&&f[0]&&(u[f[0]]=f[1])}if(d)for(var v=String(d).split(","),r=0;r<v.length;r++){var p=v[r];if(e(p).length){{var m=a.closest("form, .validationEngineContainer").find(p).val();p.replace("#","")+"="+escape(m)}u[p.replace("#","")]=m}}return"field"==o.eventTrigger&&delete o.ajaxValidCache[a.attr("id")],o.isError||t._checkAjaxFieldStatus(a.attr("id"),o)?void 0:(e.ajax({type:o.ajaxFormValidationMethod,url:l.url,cache:!1,dataType:"json",data:u,field:a,rule:l,methods:t,options:o,beforeSend:function(){},error:function(e,a){t._ajaxError(e,a)},success:function(a){var i=a[0],r=e("#"+i).eq(0);if(1==r.length){var n=a[1],s=a[2];if(n){if(o.ajaxValidCache[i]=!0,s){if(o.allrules[s]){var d=o.allrules[s].alertTextOk;d&&(s=d)}}else s=l.alertTextOk;o.showPrompts&&(s?t._showPrompt(r,s,"pass",!0,o):t._closePrompt(r)),"submit"==o.eventTrigger&&void 0!==o.submitTask&&JCck[o.submitPkg][o.submitFct](o.submitTask)}else{if(o.ajaxValidCache[i]=!1,o.isError=!0,s){if(o.allrules[s]){var d=o.allrules[s].alertText;d&&(s=d)}}else s=l.alertText;o.showPrompts&&t._showPrompt(r,s,"",!0,o)}}r.trigger("jqv.field.result",[r,o.isError,s])}}),l.alertTextLoad)},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(a,i,r,o,n,l){var s=t._getPrompt(a);l&&(s=!1),e.trim(i)&&(s?t._updatePrompt(a,s,i,r,o,n):t._buildPrompt(a,i,r,o,n))},_buildPrompt:function(a,i,r,o,n){var l=e("<div>");switch(l.addClass(t._getClassName(a.attr("id"))+"formError"),l.addClass("parentForm"+t._getClassName(a.closest("form, .validationEngineContainer").attr("id"))),l.addClass("formError"),r){case"pass":l.addClass("greenPopup");break;case"load":l.addClass("blackPopup")}o&&l.addClass("ajaxed");var s=(e("<div>").addClass("formErrorContent").html(i).appendTo(l),a.data("promptPosition")||n.promptPosition);if(n.showArrow){var d=e("<div>").addClass("formErrorArrow");if("string"==typeof s){var u=s.indexOf(":");-1!=u&&(s=s.substring(0,u))}switch(s){case"bottomLeft":case"bottomRight":l.find(".formErrorContent").before(d),d.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":d.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),l.append(d)}}if(n.addPromptClass&&l.addClass(n.addPromptClass),l.css({opacity:0}),n.isOverflown||"inline"===s){"inline"===s?(l.addClass("inline"),"undefined"!=typeof a.attr("data-prompt-target")&&e("#"+a.attr("data-prompt-target")).length>0?l.appendTo(e("#"+a.attr("data-prompt-target"))):a.after(l)):a.before(l);var u=t._calculatePosition(a,l,n)}else{e("body").append(l);var u=t._calculatePositionBody(a,l,n)}return l.css({position:"inline"===s?"relative":"absolute",top:u.callerTopPosition,left:u.callerleftPosition,marginTop:u.marginTopSize,opacity:0}).data("callerField",a),n.autoHidePrompt&&setTimeout(function(){l.animate({opacity:0},function(){l.closest(".formErrorOuter").remove(),l.remove()})},n.autoHideDelay),l.animate({opacity:.87})},_updatePrompt:function(e,a,i,r,o,n,l){if(a){"undefined"!=typeof r&&("pass"==r?a.addClass("greenPopup"):a.removeClass("greenPopup"),"load"==r?a.addClass("blackPopup"):a.removeClass("blackPopup")),o?a.addClass("ajaxed"):a.removeClass("ajaxed"),a.find(".formErrorContent").html(i);var s=e.data("promptPosition")||n.promptPosition;if(n.isOverflown||"inline"===s)var d=t._calculatePosition(e,a,n);else var d=t._calculatePositionBody(e,a,n);var u={top:d.callerTopPosition,left:d.callerleftPosition,marginTop:d.marginTopSize};l?a.css(u):a.animate(u)}},_closePrompt:function(e){var a=t._getPrompt(e);a&&a.fadeTo("fast",0,function(){a.parent(".formErrorOuter").remove(),a.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(a){var i=e(a).closest("form, .validationEngineContainer").attr("id"),r=t._getClassName(a.attr("id"))+"formError",o=e("."+t._escapeExpression(r)+".parentForm"+i)[0];return o?e(o):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var a=e(document),i=e("body"),r=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||a.hasClass("rtl")||"rtl"===(a.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase();return Boolean(r)},_calculatePosition:function(e,t,a){var i,r,o,n=e.width(),l=e.position().left,s=e.position().top,d=(e.height(),t.height());i=r=0,o=-d;var u=e.data("promptPosition")||a.promptPosition,c="",f="",v=0,p=0;switch("string"==typeof u&&-1!=u.indexOf(":")&&(c=u.substring(u.indexOf(":")+1),u=u.substring(0,u.indexOf(":")),-1!=c.indexOf(",")&&(f=c.substring(c.indexOf(",")+1),c=c.substring(0,c.indexOf(",")),p=parseInt(f),isNaN(p)&&(p=0)),v=parseInt(c),isNaN(c)&&(c=0)),u){default:case"topRight":r+=l+n-30,i+=s;break;case"topLeft":i+=s,r+=l;break;case"centerRight":i=s+4,o=0,r=l+e.outerWidth(!0)+5;break;case"centerLeft":r=l-(t.width()+2),i=s+4,o=0;break;case"bottomLeft":i=s+e.height()+5,o=0,r=l;break;case"bottomRight":r=l+n-30,i=s+e.height()+5,o=0;break;case"inline":r=0,i=0,o=0}return r+=v,i+=p,{callerTopPosition:i+"px",callerleftPosition:r+"px",marginTopSize:o+"px"}},_calculatePositionBody:function(e,t,a){var i,r,o,n=e.width(),l=t.height(),s=a.isOverflown;if(s)i=r=0,o=-l;else{var d=e.offset();i=d.top,r=d.left,o=0}switch(a.promptPosition){default:case"topRight":s?r+=n-30:(r+=n-30,i+=-l);break;case"topLeft":i+=-l-10;break;case"centerRight":r+=n+13;break;case"bottomLeft":i=i+e.height()+15;break;case"bottomRight":r+=n-30,i+=e.height()+5}return{callerTopPosition:i+"px",callerleftPosition:r+"px",marginTopSize:o+"px"}},_saveOptions:function(t,a){if(e.validationEngineLanguage)var i=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=i;var r=e.extend(!0,{},e.validationEngine.defaults,a);return r.formId=t.attr("id"),"adminForm"==r.formId?(r.submitPkg="Dev",r.submitFct="submit"):"seblod_form"==r.formId?(r.submitPkg="Core",r.submitFct="submit"):(r.submitPkg="Core",r.submitFct="submit_"+r.formId.replace("seblod_form_","")),t.data("jqv",r),r},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,a,i,r){var o,n;for(o=i+1;o<a.length;o++)if(n=jQuery("#"+a[o]).first(),n.length&&void 0==t._required(n,["required"],0,r,!0))return t._required(e,["required"],0,r)},_submitButtonClick:function(){var t=e(this),a=t.closest("form, .validationEngineContainer");a.data("jqv_submitButton",t.attr("id"))}};e.fn.validationEngine=function(a){var i=e(this);return i[0]?"string"==typeof a&&"_"!=a.charAt(0)&&t[a]?("showPrompt"!=a&&"hide"!=a&&"hideAll"!=a&&t.init.apply(i),t[a].apply(i,Array.prototype.slice.call(arguments,1))):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist in jQuery.validationEngine"):(t.init.apply(i,arguments),t.attach.apply(i)):i},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})}(jQuery);